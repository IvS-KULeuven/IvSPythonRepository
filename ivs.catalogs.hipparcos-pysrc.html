<?xml version="1.0" encoding="ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>ivs.catalogs.hipparcos</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css" />
  <script type="text/javascript" src="epydoc.js"></script>
</head>

<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="ivs-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

      <th class="navbar" width="100%"></th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <span class="breadcrumbs">
        <a href="ivs-module.html">Package&nbsp;ivs</a> ::
        <a href="ivs.catalogs-module.html">Package&nbsp;catalogs</a> ::
        Module&nbsp;hipparcos
      </span>
    </td>
    <td>
      <table cellpadding="0" cellspacing="0">
        <!-- hide/show private -->
        <tr><td align="right"><span class="options">[<a href="javascript:void(0);" class="privatelink"
    onclick="toggle_private();">hide&nbsp;private</a>]</span></td></tr>
        <tr><td align="right"><span class="options"
            >[<a href="frames.html" target="_top">frames</a
            >]&nbsp;|&nbsp;<a href="ivs.catalogs.hipparcos-pysrc.html"
            target="_top">no&nbsp;frames</a>]</span></td></tr>
      </table>
    </td>
  </tr>
</table>
<h1 class="epydoc">Source Code for <a href="ivs.catalogs.hipparcos-module.html">Module ivs.catalogs.hipparcos</a></h1>
<pre class="py-src">
<a name="L1"></a><tt class="py-lineno">  1</tt>  <tt class="py-line"><tt class="py-comment"># -*- coding: utf-8 -*-</tt> </tt>
<a name="L2"></a><tt class="py-lineno">  2</tt>  <tt class="py-line"><tt class="py-docstring">"""</tt> </tt>
<a name="L3"></a><tt class="py-lineno">  3</tt>  <tt class="py-line"><tt class="py-docstring">Retrieve Hipparcos epoch/intermediate photometry from the internet.</tt> </tt>
<a name="L4"></a><tt class="py-lineno">  4</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L5"></a><tt class="py-lineno">  5</tt>  <tt class="py-line"><tt class="py-docstring">Author: Joris De Ridder &amp; Pieter Degroote</tt> </tt>
<a name="L6"></a><tt class="py-lineno">  6</tt>  <tt class="py-line"><tt class="py-docstring">"""</tt> </tt>
<a name="L7"></a><tt class="py-lineno">  7</tt>  <tt class="py-line"> </tt>
<a name="L8"></a><tt class="py-lineno">  8</tt>  <tt class="py-line"><tt class="py-keyword">from</tt> <tt class="py-name">__future__</tt> <tt class="py-keyword">import</tt> <tt class="py-name">with_statement</tt> </tt>
<a name="L9"></a><tt class="py-lineno">  9</tt>  <tt class="py-line"><tt class="py-keyword">import</tt> <tt class="py-name">httplib</tt> </tt>
<a name="L10"></a><tt class="py-lineno"> 10</tt>  <tt class="py-line"><tt class="py-keyword">import</tt> <tt class="py-name">logging</tt> </tt>
<a name="L11"></a><tt class="py-lineno"> 11</tt>  <tt class="py-line"><tt class="py-keyword">import</tt> <tt class="py-name">os</tt> </tt>
<a name="L12"></a><tt class="py-lineno"> 12</tt>  <tt class="py-line"><tt class="py-keyword">import</tt> <tt class="py-name">pyfits</tt> </tt>
<a name="L13"></a><tt class="py-lineno"> 13</tt>  <tt class="py-line"><tt class="py-keyword">import</tt> <tt class="py-name">numpy</tt> <tt class="py-keyword">as</tt> <tt class="py-name">np</tt> </tt>
<a name="L14"></a><tt class="py-lineno"> 14</tt>  <tt class="py-line"><tt class="py-keyword">from</tt> <tt id="link-0" class="py-name" targets="Package ivs=ivs-module.html"><a title="ivs" class="py-name" href="#" onclick="return doclink('link-0', 'ivs', 'link-0');">ivs</a></tt><tt class="py-op">.</tt><tt id="link-1" class="py-name" targets="Package ivs.aux=ivs.aux-module.html"><a title="ivs.aux" class="py-name" href="#" onclick="return doclink('link-1', 'aux', 'link-1');">aux</a></tt> <tt class="py-keyword">import</tt> <tt id="link-2" class="py-name" targets="Module ivs.aux.loggers=ivs.aux.loggers-module.html"><a title="ivs.aux.loggers" class="py-name" href="#" onclick="return doclink('link-2', 'loggers', 'link-2');">loggers</a></tt> </tt>
<a name="L15"></a><tt class="py-lineno"> 15</tt>  <tt class="py-line"><tt class="py-keyword">from</tt> <tt id="link-3" class="py-name"><a title="ivs" class="py-name" href="#" onclick="return doclink('link-3', 'ivs', 'link-0');">ivs</a></tt><tt class="py-op">.</tt><tt id="link-4" class="py-name" targets="Package ivs.catalogs=ivs.catalogs-module.html"><a title="ivs.catalogs" class="py-name" href="#" onclick="return doclink('link-4', 'catalogs', 'link-4');">catalogs</a></tt> <tt class="py-keyword">import</tt> <tt id="link-5" class="py-name" targets="Module ivs.catalogs.sesame=ivs.catalogs.sesame-module.html"><a title="ivs.catalogs.sesame" class="py-name" href="#" onclick="return doclink('link-5', 'sesame', 'link-5');">sesame</a></tt> </tt>
<a name="L16"></a><tt class="py-lineno"> 16</tt>  <tt class="py-line"><tt class="py-keyword">from</tt> <tt id="link-6" class="py-name"><a title="ivs" class="py-name" href="#" onclick="return doclink('link-6', 'ivs', 'link-0');">ivs</a></tt><tt class="py-op">.</tt><tt id="link-7" class="py-name" targets="Package ivs.io=ivs.io-module.html"><a title="ivs.io" class="py-name" href="#" onclick="return doclink('link-7', 'io', 'link-7');">io</a></tt> <tt class="py-keyword">import</tt> <tt id="link-8" class="py-name" targets="Module ivs.io.fits=ivs.io.fits-module.html"><a title="ivs.io.fits" class="py-name" href="#" onclick="return doclink('link-8', 'fits', 'link-8');">fits</a></tt> </tt>
<a name="L17"></a><tt class="py-lineno"> 17</tt>  <tt class="py-line"><tt class="py-keyword">from</tt> <tt id="link-9" class="py-name"><a title="ivs" class="py-name" href="#" onclick="return doclink('link-9', 'ivs', 'link-0');">ivs</a></tt> <tt class="py-keyword">import</tt> <tt id="link-10" class="py-name" targets="Module ivs.config=ivs.config-module.html"><a title="ivs.config" class="py-name" href="#" onclick="return doclink('link-10', 'config', 'link-10');">config</a></tt> </tt>
<a name="L18"></a><tt class="py-lineno"> 18</tt>  <tt class="py-line">         </tt>
<a name="L19"></a><tt class="py-lineno"> 19</tt>  <tt class="py-line"><tt id="link-11" class="py-name" targets="Variable ivs.asteroseismology.granulation.logger=ivs.asteroseismology.granulation-module.html#logger,Variable ivs.asteroseismology.redgiantfreqs.logger=ivs.asteroseismology.redgiantfreqs-module.html#logger,Variable ivs.asteroseismology.solarosc.logger=ivs.asteroseismology.solarosc-module.html#logger,Variable ivs.aux.decorators.logger=ivs.aux.decorators-module.html#logger,Variable ivs.catalogs.coralie.logger=ivs.catalogs.coralie-module.html#logger,Variable ivs.catalogs.corot.logger=ivs.catalogs.corot-module.html#logger,Variable ivs.catalogs.crossmatch.logger=ivs.catalogs.crossmatch-module.html#logger,Variable ivs.catalogs.gator.logger=ivs.catalogs.gator-module.html#logger,Variable ivs.catalogs.gcpd.logger=ivs.catalogs.gcpd-module.html#logger,Variable ivs.catalogs.hermes.logger=ivs.catalogs.hermes-module.html#logger,Variable ivs.catalogs.hipparcos.logger=ivs.catalogs.hipparcos-module.html#logger,Variable ivs.catalogs.kepler.logger=ivs.catalogs.kepler-module.html#logger,Variable ivs.catalogs.mast.logger=ivs.catalogs.mast-module.html#logger,Variable ivs.catalogs.p7.logger=ivs.catalogs.p7-module.html#logger,Variable ivs.catalogs.sesame.logger=ivs.catalogs.sesame-module.html#logger,Variable ivs.catalogs.vizier.logger=ivs.catalogs.vizier-module.html#logger,Variable ivs.io.ascii.logger=ivs.io.ascii-module.html#logger,Variable ivs.io.fits.logger=ivs.io.fits-module.html#logger,Variable ivs.io.hdf5.logger=ivs.io.hdf5-module.html#logger,Variable ivs.observations.distance.logger=ivs.observations.distance-module.html#logger,Variable ivs.observations.visibility.logger=ivs.observations.visibility-module.html#logger,Variable ivs.roche.binary.logger=ivs.roche.binary-module.html#logger,Variable ivs.sed.builder.logger=ivs.sed.builder-module.html#logger,Variable ivs.sed.creategrids.logger=ivs.sed.creategrids-module.html#logger,Variable ivs.sed.decorators.logger=ivs.sed.decorators-module.html#logger,Variable ivs.sed.distance.logger=ivs.sed.distance-module.html#logger,Variable ivs.sed.extinctionmodels.logger=ivs.sed.extinctionmodels-module.html#logger,Variable ivs.sed.filters.logger=ivs.sed.filters-module.html#logger,Variable ivs.sed.fit.logger=ivs.sed.fit-module.html#logger,Variable ivs.sed.limbdark.logger=ivs.sed.limbdark-module.html#logger,Variable ivs.sed.model.logger=ivs.sed.model-module.html#logger,Variable ivs.sed.reddening.logger=ivs.sed.reddening-module.html#logger,Variable ivs.sigproc.evaluate.logger=ivs.sigproc.evaluate-module.html#logger,Variable ivs.sigproc.filtering.logger=ivs.sigproc.filtering-module.html#logger,Variable ivs.sigproc.fit.logger=ivs.sigproc.fit-module.html#logger,Variable ivs.sigproc.funclib.logger=ivs.sigproc.funclib-module.html#logger,Variable ivs.spectra.linelists.logger=ivs.spectra.linelists-module.html#logger,Variable ivs.spectra.model.logger=ivs.spectra.model-module.html#logger,Variable ivs.spectra.tools.logger=ivs.spectra.tools-module.html#logger,Variable ivs.stellar_evolution.adipls.logger=ivs.stellar_evolution.adipls-module.html#logger,Variable ivs.stellar_evolution.fileio.logger=ivs.stellar_evolution.fileio-module.html#logger,Variable ivs.stellar_evolution.gyre.logger=ivs.stellar_evolution.gyre-module.html#logger,Variable ivs.stellar_evolution.puls.logger=ivs.stellar_evolution.puls-module.html#logger,Variable ivs.timeseries.decorators.logger=ivs.timeseries.decorators-module.html#logger,Variable ivs.timeseries.freqanalyse.logger=ivs.timeseries.freqanalyse-module.html#logger,Variable ivs.timeseries.keplerorbit.logger=ivs.timeseries.keplerorbit-module.html#logger,Variable ivs.timeseries.pergrams.logger=ivs.timeseries.pergrams-module.html#logger,Variable ivs.timeseries.windowfunctions.logger=ivs.timeseries.windowfunctions-module.html#logger,Variable ivs.units.conversions.logger=ivs.units.conversions-module.html#logger"><a title="ivs.asteroseismology.granulation.logger
ivs.asteroseismology.redgiantfreqs.logger
ivs.asteroseismology.solarosc.logger
ivs.aux.decorators.logger
ivs.catalogs.coralie.logger
ivs.catalogs.corot.logger
ivs.catalogs.crossmatch.logger
ivs.catalogs.gator.logger
ivs.catalogs.gcpd.logger
ivs.catalogs.hermes.logger
ivs.catalogs.hipparcos.logger
ivs.catalogs.kepler.logger
ivs.catalogs.mast.logger
ivs.catalogs.p7.logger
ivs.catalogs.sesame.logger
ivs.catalogs.vizier.logger
ivs.io.ascii.logger
ivs.io.fits.logger
ivs.io.hdf5.logger
ivs.observations.distance.logger
ivs.observations.visibility.logger
ivs.roche.binary.logger
ivs.sed.builder.logger
ivs.sed.creategrids.logger
ivs.sed.decorators.logger
ivs.sed.distance.logger
ivs.sed.extinctionmodels.logger
ivs.sed.filters.logger
ivs.sed.fit.logger
ivs.sed.limbdark.logger
ivs.sed.model.logger
ivs.sed.reddening.logger
ivs.sigproc.evaluate.logger
ivs.sigproc.filtering.logger
ivs.sigproc.fit.logger
ivs.sigproc.funclib.logger
ivs.spectra.linelists.logger
ivs.spectra.model.logger
ivs.spectra.tools.logger
ivs.stellar_evolution.adipls.logger
ivs.stellar_evolution.fileio.logger
ivs.stellar_evolution.gyre.logger
ivs.stellar_evolution.puls.logger
ivs.timeseries.decorators.logger
ivs.timeseries.freqanalyse.logger
ivs.timeseries.keplerorbit.logger
ivs.timeseries.pergrams.logger
ivs.timeseries.windowfunctions.logger
ivs.units.conversions.logger" class="py-name" href="#" onclick="return doclink('link-11', 'logger', 'link-11');">logger</a></tt> <tt class="py-op">=</tt> <tt class="py-name">logging</tt><tt class="py-op">.</tt><tt class="py-name">getLogger</tt><tt class="py-op">(</tt><tt class="py-string">"CAT.HIP"</tt><tt class="py-op">)</tt> </tt>
<a name="L20"></a><tt class="py-lineno"> 20</tt>  <tt class="py-line"><tt id="link-12" class="py-name"><a title="ivs.asteroseismology.granulation.logger
ivs.asteroseismology.redgiantfreqs.logger
ivs.asteroseismology.solarosc.logger
ivs.aux.decorators.logger
ivs.catalogs.coralie.logger
ivs.catalogs.corot.logger
ivs.catalogs.crossmatch.logger
ivs.catalogs.gator.logger
ivs.catalogs.gcpd.logger
ivs.catalogs.hermes.logger
ivs.catalogs.hipparcos.logger
ivs.catalogs.kepler.logger
ivs.catalogs.mast.logger
ivs.catalogs.p7.logger
ivs.catalogs.sesame.logger
ivs.catalogs.vizier.logger
ivs.io.ascii.logger
ivs.io.fits.logger
ivs.io.hdf5.logger
ivs.observations.distance.logger
ivs.observations.visibility.logger
ivs.roche.binary.logger
ivs.sed.builder.logger
ivs.sed.creategrids.logger
ivs.sed.decorators.logger
ivs.sed.distance.logger
ivs.sed.extinctionmodels.logger
ivs.sed.filters.logger
ivs.sed.fit.logger
ivs.sed.limbdark.logger
ivs.sed.model.logger
ivs.sed.reddening.logger
ivs.sigproc.evaluate.logger
ivs.sigproc.filtering.logger
ivs.sigproc.fit.logger
ivs.sigproc.funclib.logger
ivs.spectra.linelists.logger
ivs.spectra.model.logger
ivs.spectra.tools.logger
ivs.stellar_evolution.adipls.logger
ivs.stellar_evolution.fileio.logger
ivs.stellar_evolution.gyre.logger
ivs.stellar_evolution.puls.logger
ivs.timeseries.decorators.logger
ivs.timeseries.freqanalyse.logger
ivs.timeseries.keplerorbit.logger
ivs.timeseries.pergrams.logger
ivs.timeseries.windowfunctions.logger
ivs.units.conversions.logger" class="py-name" href="#" onclick="return doclink('link-12', 'logger', 'link-11');">logger</a></tt><tt class="py-op">.</tt><tt class="py-name">addHandler</tt><tt class="py-op">(</tt><tt id="link-13" class="py-name"><a title="ivs.aux.loggers" class="py-name" href="#" onclick="return doclink('link-13', 'loggers', 'link-2');">loggers</a></tt><tt class="py-op">.</tt><tt id="link-14" class="py-name" targets="Class ivs.asteroseismology.granulation.NullHandler=ivs.asteroseismology.granulation.NullHandler-class.html,Class ivs.asteroseismology.solarosc.NullHandler=ivs.asteroseismology.solarosc.NullHandler-class.html,Class ivs.aux.loggers.NullHandler=ivs.aux.loggers.NullHandler-class.html"><a title="ivs.asteroseismology.granulation.NullHandler
ivs.asteroseismology.solarosc.NullHandler
ivs.aux.loggers.NullHandler" class="py-name" href="#" onclick="return doclink('link-14', 'NullHandler', 'link-14');">NullHandler</a></tt><tt class="py-op">)</tt> </tt>
<a name="L21"></a><tt class="py-lineno"> 21</tt>  <tt class="py-line"> </tt>
<a name="getHipData"></a><div id="getHipData-def"><a name="L22"></a><tt class="py-lineno"> 22</tt> <a class="py-toggle" href="#" id="getHipData-toggle" onclick="return toggle('getHipData');">-</a><tt class="py-line"><tt class="py-keyword">def</tt> <a class="py-def-name" href="ivs.catalogs.hipparcos-module.html#getHipData">getHipData</a><tt class="py-op">(</tt><tt class="py-param">ID</tt><tt class="py-op">,</tt><tt class="py-param">dtype</tt><tt class="py-op">=</tt><tt class="py-string">'ep'</tt><tt class="py-op">,</tt><tt class="py-param">outputFileName</tt><tt class="py-op">=</tt><tt class="py-name">None</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="getHipData-collapsed" style="display:none;" pad="+++" indent="++++"></div><div id="getHipData-expanded"><a name="L23"></a><tt class="py-lineno"> 23</tt>  <tt class="py-line"> </tt>
<a name="L24"></a><tt class="py-lineno"> 24</tt>  <tt class="py-line">    <tt class="py-docstring">"""</tt> </tt>
<a name="L25"></a><tt class="py-lineno"> 25</tt>  <tt class="py-line"><tt class="py-docstring">    Retrieve Hipparcos epoch/intermediate photometry from the ESA website.</tt> </tt>
<a name="L26"></a><tt class="py-lineno"> 26</tt>  <tt class="py-line"><tt class="py-docstring">    </tt> </tt>
<a name="L27"></a><tt class="py-lineno"> 27</tt>  <tt class="py-line"><tt class="py-docstring">    The time series together with some header information is stored in a record</tt> </tt>
<a name="L28"></a><tt class="py-lineno"> 28</tt>  <tt class="py-line"><tt class="py-docstring">    array and dictionary, and optionally written in a specified file.</tt> </tt>
<a name="L29"></a><tt class="py-lineno"> 29</tt>  <tt class="py-line"><tt class="py-docstring">    </tt> </tt>
<a name="L30"></a><tt class="py-lineno"> 30</tt>  <tt class="py-line"><tt class="py-docstring">    The time points are given in barycentric Julian Date and are corrected</tt> </tt>
<a name="L31"></a><tt class="py-lineno"> 31</tt>  <tt class="py-line"><tt class="py-docstring">    for the offset of 2440000.0 in the original files, but B{only in the output</tt> </tt>
<a name="L32"></a><tt class="py-lineno"> 32</tt>  <tt class="py-line"><tt class="py-docstring">    record array}. The output files display the B{original contents}.</tt> </tt>
<a name="L33"></a><tt class="py-lineno"> 33</tt>  <tt class="py-line"><tt class="py-docstring">    </tt> </tt>
<a name="L34"></a><tt class="py-lineno"> 34</tt>  <tt class="py-line"><tt class="py-docstring">    For epoch photometry, set C{dtype='ep'}.</tt> </tt>
<a name="L35"></a><tt class="py-lineno"> 35</tt>  <tt class="py-line"><tt class="py-docstring">    For intermediate date, set C{dtype='i'}.</tt> </tt>
<a name="L36"></a><tt class="py-lineno"> 36</tt>  <tt class="py-line"><tt class="py-docstring">    </tt> </tt>
<a name="L37"></a><tt class="py-lineno"> 37</tt>  <tt class="py-line"><tt class="py-docstring">    For more information:</tt> </tt>
<a name="L38"></a><tt class="py-lineno"> 38</tt>  <tt class="py-line"><tt class="py-docstring">    C{http://www.rssd.esa.int/SA-general/Projects/Hipparcos/CATALOGUE_VOL1/sect2_05.ps.gz}</tt> </tt>
<a name="L39"></a><tt class="py-lineno"> 39</tt>  <tt class="py-line"><tt class="py-docstring">    </tt> </tt>
<a name="L40"></a><tt class="py-lineno"> 40</tt>  <tt class="py-line"><tt class="py-docstring">    Example:</tt> </tt>
<a name="L41"></a><tt class="py-lineno"> 41</tt>  <tt class="py-line"><tt class="py-docstring">    </tt> </tt>
<a name="L42"></a><tt class="py-lineno"> 42</tt>  <tt class="py-line"><tt class="py-docstring">    &gt;&gt;&gt; data,header = getHipData(1234)</tt> </tt>
<a name="L43"></a><tt class="py-lineno"> 43</tt>  <tt class="py-line"><tt class="py-docstring">    &gt;&gt;&gt; data = data[data['q_mag'] &lt;= 2]         # keep only the good points</tt> </tt>
<a name="L44"></a><tt class="py-lineno"> 44</tt>  <tt class="py-line"><tt class="py-docstring">    </tt> </tt>
<a name="L45"></a><tt class="py-lineno"> 45</tt>  <tt class="py-line"><tt class="py-docstring">    To write the retrieved data to a file:</tt> </tt>
<a name="L46"></a><tt class="py-lineno"> 46</tt>  <tt class="py-line"><tt class="py-docstring">    </tt> </tt>
<a name="L47"></a><tt class="py-lineno"> 47</tt>  <tt class="py-line"><tt class="py-docstring">    &gt;&gt;&gt; data, header = getHipData(1234 , "myfile.txt")</tt> </tt>
<a name="L48"></a><tt class="py-lineno"> 48</tt>  <tt class="py-line"><tt class="py-docstring">    </tt> </tt>
<a name="L49"></a><tt class="py-lineno"> 49</tt>  <tt class="py-line"><tt class="py-docstring">    To store the different columns in separate arrays:</tt> </tt>
<a name="L50"></a><tt class="py-lineno"> 50</tt>  <tt class="py-line"><tt class="py-docstring">    </tt> </tt>
<a name="L51"></a><tt class="py-lineno"> 51</tt>  <tt class="py-line"><tt class="py-docstring">    &gt;&gt;&gt; data, header = getHipData(1234)</tt> </tt>
<a name="L52"></a><tt class="py-lineno"> 52</tt>  <tt class="py-line"><tt class="py-docstring">    &gt;&gt;&gt; time = data['time']</tt> </tt>
<a name="L53"></a><tt class="py-lineno"> 53</tt>  <tt class="py-line"><tt class="py-docstring">    &gt;&gt;&gt; magnitude = data['mag']</tt> </tt>
<a name="L54"></a><tt class="py-lineno"> 54</tt>  <tt class="py-line"><tt class="py-docstring">    &gt;&gt;&gt; errorbar = data['e_mag']</tt> </tt>
<a name="L55"></a><tt class="py-lineno"> 55</tt>  <tt class="py-line"><tt class="py-docstring">    &gt;&gt;&gt; qualityflag = data['q_mag']</tt> </tt>
<a name="L56"></a><tt class="py-lineno"> 56</tt>  <tt class="py-line"><tt class="py-docstring">    </tt> </tt>
<a name="L57"></a><tt class="py-lineno"> 57</tt>  <tt class="py-line"><tt class="py-docstring">    In the case of intermediate data products:</tt> </tt>
<a name="L58"></a><tt class="py-lineno"> 58</tt>  <tt class="py-line"><tt class="py-docstring">        - orbit: orbit number</tt> </tt>
<a name="L59"></a><tt class="py-lineno"> 59</tt>  <tt class="py-line"><tt class="py-docstring">        - source: source of abscissa (F=FAST, f=rejected FAST, N=NDAC,n=NDAC rejected)</tt> </tt>
<a name="L60"></a><tt class="py-lineno"> 60</tt>  <tt class="py-line"><tt class="py-docstring">        - d_acosd: partial derivative wrt alpha cos(delta)</tt> </tt>
<a name="L61"></a><tt class="py-lineno"> 61</tt>  <tt class="py-line"><tt class="py-docstring">        - d_d: partial derivative wrt delta</tt> </tt>
<a name="L62"></a><tt class="py-lineno"> 62</tt>  <tt class="py-line"><tt class="py-docstring">        - d_pi: partial derivative wrt parallax</tt> </tt>
<a name="L63"></a><tt class="py-lineno"> 63</tt>  <tt class="py-line"><tt class="py-docstring">        - d_mua: partial derivative wrt proper motion alpha cos(delta)</tt> </tt>
<a name="L64"></a><tt class="py-lineno"> 64</tt>  <tt class="py-line"><tt class="py-docstring">        - d_mud: partial derivative wrt proper motion delta</tt> </tt>
<a name="L65"></a><tt class="py-lineno"> 65</tt>  <tt class="py-line"><tt class="py-docstring">    </tt> </tt>
<a name="L66"></a><tt class="py-lineno"> 66</tt>  <tt class="py-line"><tt class="py-docstring">    @param ID: identification of the star: if you give an integer or string that</tt> </tt>
<a name="L67"></a><tt class="py-lineno"> 67</tt>  <tt class="py-line"><tt class="py-docstring">    can be converted to an integer, it is assumed to be the hipparcos number of</tt> </tt>
<a name="L68"></a><tt class="py-lineno"> 68</tt>  <tt class="py-line"><tt class="py-docstring">    the star.  E.g. 1234 or "1234". If it is not an integer, the star will</tt> </tt>
<a name="L69"></a><tt class="py-lineno"> 69</tt>  <tt class="py-line"><tt class="py-docstring">    be resolved via sesame to get the HIP number if possible</tt> </tt>
<a name="L70"></a><tt class="py-lineno"> 70</tt>  <tt class="py-line"><tt class="py-docstring">    @type ID: integer or string</tt> </tt>
<a name="L71"></a><tt class="py-lineno"> 71</tt>  <tt class="py-line"><tt class="py-docstring">    @param dtype: data type (epoch ('ep') photometry or intermediate ('i') data)</tt> </tt>
<a name="L72"></a><tt class="py-lineno"> 72</tt>  <tt class="py-line"><tt class="py-docstring">    @type dtype: string (one of ('ep','i'))</tt> </tt>
<a name="L73"></a><tt class="py-lineno"> 73</tt>  <tt class="py-line"><tt class="py-docstring">    @param outputFileName: the name of the file that will be created</tt> </tt>
<a name="L74"></a><tt class="py-lineno"> 74</tt>  <tt class="py-line"><tt class="py-docstring">                           to save the Hipparcos time series</tt> </tt>
<a name="L75"></a><tt class="py-lineno"> 75</tt>  <tt class="py-line"><tt class="py-docstring">    @type outputFileName: string</tt> </tt>
<a name="L76"></a><tt class="py-lineno"> 76</tt>  <tt class="py-line"><tt class="py-docstring">    @return: record array with fields time, mag, e_mag (errorbar), </tt> </tt>
<a name="L77"></a><tt class="py-lineno"> 77</tt>  <tt class="py-line"><tt class="py-docstring">             q_mag (quality flag), and a dictionary containing the </tt> </tt>
<a name="L78"></a><tt class="py-lineno"> 78</tt>  <tt class="py-line"><tt class="py-docstring">             header information. The header dictionary is of style</tt> </tt>
<a name="L79"></a><tt class="py-lineno"> 79</tt>  <tt class="py-line"><tt class="py-docstring">             {'HH14': ('A', 'Annex flag (light curves)'), ...}</tt> </tt>
<a name="L80"></a><tt class="py-lineno"> 80</tt>  <tt class="py-line"><tt class="py-docstring">    @rtype: rec array, dict</tt> </tt>
<a name="L81"></a><tt class="py-lineno"> 81</tt>  <tt class="py-line"><tt class="py-docstring">    """</tt> </tt>
<a name="L82"></a><tt class="py-lineno"> 82</tt>  <tt class="py-line"> </tt>
<a name="L83"></a><tt class="py-lineno"> 83</tt>  <tt class="py-line">    <tt class="py-name">server</tt> <tt class="py-op">=</tt> <tt class="py-string">"www.rssd.esa.int"</tt> </tt>
<a name="L84"></a><tt class="py-lineno"> 84</tt>  <tt class="py-line">    <tt class="py-name">webpage</tt> <tt class="py-op">=</tt> <tt class="py-string">"/hipparcos_scripts/HIPcatalogueSearch.pl?hip%sId="</tt><tt class="py-op">%</tt><tt class="py-op">(</tt><tt class="py-name">dtype</tt><tt class="py-op">)</tt> </tt>
<a name="L85"></a><tt class="py-lineno"> 85</tt>  <tt class="py-line">     </tt>
<a name="L86"></a><tt class="py-lineno"> 86</tt>  <tt class="py-line">    <tt class="py-comment"># Resolve the name if necessary (i.e., if it's not a HIP number). If the </tt> </tt>
<a name="L87"></a><tt class="py-lineno"> 87</tt>  <tt class="py-line">    <tt class="py-comment"># star has no HIP number, log an error and return None</tt> </tt>
<a name="L88"></a><tt class="py-lineno"> 88</tt>  <tt class="py-line">    <tt class="py-keyword">try</tt><tt class="py-op">:</tt> </tt>
<a name="L89"></a><tt class="py-lineno"> 89</tt>  <tt class="py-line">        <tt class="py-name">hipnr</tt> <tt class="py-op">=</tt> <tt class="py-name">int</tt><tt class="py-op">(</tt><tt class="py-name">ID</tt><tt class="py-op">)</tt> </tt>
<a name="L90"></a><tt class="py-lineno"> 90</tt>  <tt class="py-line">    <tt class="py-keyword">except</tt> <tt class="py-name">ValueError</tt><tt class="py-op">:</tt> </tt>
<a name="L91"></a><tt class="py-lineno"> 91</tt>  <tt class="py-line">        <tt class="py-name">info</tt> <tt class="py-op">=</tt> <tt id="link-15" class="py-name"><a title="ivs.catalogs.sesame" class="py-name" href="#" onclick="return doclink('link-15', 'sesame', 'link-5');">sesame</a></tt><tt class="py-op">.</tt><tt id="link-16" class="py-name" targets="Function ivs.catalogs.coralie.search()=ivs.catalogs.coralie-module.html#search,Function ivs.catalogs.gator.search()=ivs.catalogs.gator-module.html#search,Function ivs.catalogs.gcpd.search()=ivs.catalogs.gcpd-module.html#search,Function ivs.catalogs.hermes.search()=ivs.catalogs.hermes-module.html#search,Function ivs.catalogs.mast.search()=ivs.catalogs.mast-module.html#search,Function ivs.catalogs.sesame.search()=ivs.catalogs.sesame-module.html#search,Function ivs.catalogs.vizier.search()=ivs.catalogs.vizier-module.html#search"><a title="ivs.catalogs.coralie.search
ivs.catalogs.gator.search
ivs.catalogs.gcpd.search
ivs.catalogs.hermes.search
ivs.catalogs.mast.search
ivs.catalogs.sesame.search
ivs.catalogs.vizier.search" class="py-name" href="#" onclick="return doclink('link-16', 'search', 'link-16');">search</a></tt><tt class="py-op">(</tt><tt class="py-name">ID</tt><tt class="py-op">,</tt><tt class="py-name">db</tt><tt class="py-op">=</tt><tt class="py-string">'S'</tt><tt class="py-op">)</tt> </tt>
<a name="L92"></a><tt class="py-lineno"> 92</tt>  <tt class="py-line">        <tt class="py-name">IDs</tt> <tt class="py-op">=</tt> <tt class="py-op">[</tt><tt class="py-name">alias</tt> <tt class="py-keyword">for</tt> <tt class="py-name">alias</tt> <tt class="py-keyword">in</tt> <tt class="py-name">info</tt><tt class="py-op">[</tt><tt class="py-string">'alias'</tt><tt class="py-op">]</tt> <tt class="py-keyword">if</tt> <tt class="py-string">'HIP'</tt> <tt class="py-keyword">in</tt> <tt class="py-name">alias</tt><tt class="py-op">]</tt> </tt>
<a name="L93"></a><tt class="py-lineno"> 93</tt>  <tt class="py-line">        <tt class="py-keyword">if</tt> <tt class="py-name">len</tt><tt class="py-op">(</tt><tt class="py-name">IDs</tt><tt class="py-op">)</tt><tt class="py-op">!=</tt><tt class="py-number">1</tt><tt class="py-op">:</tt> </tt>
<a name="L94"></a><tt class="py-lineno"> 94</tt>  <tt class="py-line">            <tt id="link-17" class="py-name"><a title="ivs.asteroseismology.granulation.logger
ivs.asteroseismology.redgiantfreqs.logger
ivs.asteroseismology.solarosc.logger
ivs.aux.decorators.logger
ivs.catalogs.coralie.logger
ivs.catalogs.corot.logger
ivs.catalogs.crossmatch.logger
ivs.catalogs.gator.logger
ivs.catalogs.gcpd.logger
ivs.catalogs.hermes.logger
ivs.catalogs.hipparcos.logger
ivs.catalogs.kepler.logger
ivs.catalogs.mast.logger
ivs.catalogs.p7.logger
ivs.catalogs.sesame.logger
ivs.catalogs.vizier.logger
ivs.io.ascii.logger
ivs.io.fits.logger
ivs.io.hdf5.logger
ivs.observations.distance.logger
ivs.observations.visibility.logger
ivs.roche.binary.logger
ivs.sed.builder.logger
ivs.sed.creategrids.logger
ivs.sed.decorators.logger
ivs.sed.distance.logger
ivs.sed.extinctionmodels.logger
ivs.sed.filters.logger
ivs.sed.fit.logger
ivs.sed.limbdark.logger
ivs.sed.model.logger
ivs.sed.reddening.logger
ivs.sigproc.evaluate.logger
ivs.sigproc.filtering.logger
ivs.sigproc.fit.logger
ivs.sigproc.funclib.logger
ivs.spectra.linelists.logger
ivs.spectra.model.logger
ivs.spectra.tools.logger
ivs.stellar_evolution.adipls.logger
ivs.stellar_evolution.fileio.logger
ivs.stellar_evolution.gyre.logger
ivs.stellar_evolution.puls.logger
ivs.timeseries.decorators.logger
ivs.timeseries.freqanalyse.logger
ivs.timeseries.keplerorbit.logger
ivs.timeseries.pergrams.logger
ivs.timeseries.windowfunctions.logger
ivs.units.conversions.logger" class="py-name" href="#" onclick="return doclink('link-17', 'logger', 'link-11');">logger</a></tt><tt class="py-op">.</tt><tt class="py-name">error</tt><tt class="py-op">(</tt><tt class="py-string">"Data retrieval for %s not possible. Reason: no HIP number resolved"</tt> <tt class="py-op">%</tt> <tt class="py-op">(</tt><tt class="py-name">ID</tt><tt class="py-op">)</tt><tt class="py-op">)</tt> </tt>
<a name="L95"></a><tt class="py-lineno"> 95</tt>  <tt class="py-line">            <tt class="py-keyword">return</tt> </tt>
<a name="L96"></a><tt class="py-lineno"> 96</tt>  <tt class="py-line">        <tt class="py-name">hipnr</tt> <tt class="py-op">=</tt> <tt class="py-name">IDs</tt><tt class="py-op">[</tt><tt class="py-number">0</tt><tt class="py-op">]</tt><tt class="py-op">.</tt><tt class="py-name">split</tt><tt class="py-op">(</tt><tt class="py-string">' '</tt><tt class="py-op">)</tt><tt class="py-op">[</tt><tt class="py-number">1</tt><tt class="py-op">]</tt> </tt>
<a name="L97"></a><tt class="py-lineno"> 97</tt>  <tt class="py-line">     </tt>
<a name="L98"></a><tt class="py-lineno"> 98</tt>  <tt class="py-line">    <tt class="py-comment"># Connect to the website, en retrieve the wanted webpage</tt> </tt>
<a name="L99"></a><tt class="py-lineno"> 99</tt>  <tt class="py-line">     </tt>
<a name="L100"></a><tt class="py-lineno">100</tt>  <tt class="py-line">    <tt class="py-name">conn</tt> <tt class="py-op">=</tt> <tt class="py-name">httplib</tt><tt class="py-op">.</tt><tt class="py-name">HTTPConnection</tt><tt class="py-op">(</tt><tt class="py-name">server</tt><tt class="py-op">)</tt> </tt>
<a name="L101"></a><tt class="py-lineno">101</tt>  <tt class="py-line">    <tt class="py-name">conn</tt><tt class="py-op">.</tt><tt class="py-name">request</tt><tt class="py-op">(</tt><tt class="py-string">"GET"</tt><tt class="py-op">,</tt> <tt class="py-name">webpage</tt> <tt class="py-op">+</tt> <tt class="py-name">str</tt><tt class="py-op">(</tt><tt class="py-name">hipnr</tt><tt class="py-op">)</tt><tt class="py-op">)</tt> </tt>
<a name="L102"></a><tt class="py-lineno">102</tt>  <tt class="py-line">    <tt class="py-name">response</tt> <tt class="py-op">=</tt> <tt class="py-name">conn</tt><tt class="py-op">.</tt><tt class="py-name">getresponse</tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L103"></a><tt class="py-lineno">103</tt>  <tt class="py-line">    <tt class="py-keyword">if</tt> <tt class="py-name">response</tt><tt class="py-op">.</tt><tt class="py-name">reason</tt> <tt class="py-op">!=</tt> <tt class="py-string">"OK"</tt><tt class="py-op">:</tt> </tt>
<a name="L104"></a><tt class="py-lineno">104</tt>  <tt class="py-line">        <tt id="link-18" class="py-name"><a title="ivs.asteroseismology.granulation.logger
ivs.asteroseismology.redgiantfreqs.logger
ivs.asteroseismology.solarosc.logger
ivs.aux.decorators.logger
ivs.catalogs.coralie.logger
ivs.catalogs.corot.logger
ivs.catalogs.crossmatch.logger
ivs.catalogs.gator.logger
ivs.catalogs.gcpd.logger
ivs.catalogs.hermes.logger
ivs.catalogs.hipparcos.logger
ivs.catalogs.kepler.logger
ivs.catalogs.mast.logger
ivs.catalogs.p7.logger
ivs.catalogs.sesame.logger
ivs.catalogs.vizier.logger
ivs.io.ascii.logger
ivs.io.fits.logger
ivs.io.hdf5.logger
ivs.observations.distance.logger
ivs.observations.visibility.logger
ivs.roche.binary.logger
ivs.sed.builder.logger
ivs.sed.creategrids.logger
ivs.sed.decorators.logger
ivs.sed.distance.logger
ivs.sed.extinctionmodels.logger
ivs.sed.filters.logger
ivs.sed.fit.logger
ivs.sed.limbdark.logger
ivs.sed.model.logger
ivs.sed.reddening.logger
ivs.sigproc.evaluate.logger
ivs.sigproc.filtering.logger
ivs.sigproc.fit.logger
ivs.sigproc.funclib.logger
ivs.spectra.linelists.logger
ivs.spectra.model.logger
ivs.spectra.tools.logger
ivs.stellar_evolution.adipls.logger
ivs.stellar_evolution.fileio.logger
ivs.stellar_evolution.gyre.logger
ivs.stellar_evolution.puls.logger
ivs.timeseries.decorators.logger
ivs.timeseries.freqanalyse.logger
ivs.timeseries.keplerorbit.logger
ivs.timeseries.pergrams.logger
ivs.timeseries.windowfunctions.logger
ivs.units.conversions.logger" class="py-name" href="#" onclick="return doclink('link-18', 'logger', 'link-11');">logger</a></tt><tt class="py-op">.</tt><tt class="py-name">error</tt><tt class="py-op">(</tt><tt class="py-string">"Data retrieval for HIP%s not possible. Reason: %s"</tt> <tt class="py-op">%</tt> <tt class="py-op">(</tt><tt class="py-name">str</tt><tt class="py-op">(</tt><tt class="py-name">hipnr</tt><tt class="py-op">)</tt><tt class="py-op">,</tt> <tt class="py-name">response</tt><tt class="py-op">.</tt><tt class="py-name">reason</tt><tt class="py-op">)</tt><tt class="py-op">)</tt> </tt>
<a name="L105"></a><tt class="py-lineno">105</tt>  <tt class="py-line">        <tt class="py-keyword">return</tt> </tt>
<a name="L106"></a><tt class="py-lineno">106</tt>  <tt class="py-line">    <tt class="py-keyword">else</tt><tt class="py-op">:</tt> </tt>
<a name="L107"></a><tt class="py-lineno">107</tt>  <tt class="py-line">        <tt id="link-19" class="py-name"><a title="ivs.asteroseismology.granulation.logger
ivs.asteroseismology.redgiantfreqs.logger
ivs.asteroseismology.solarosc.logger
ivs.aux.decorators.logger
ivs.catalogs.coralie.logger
ivs.catalogs.corot.logger
ivs.catalogs.crossmatch.logger
ivs.catalogs.gator.logger
ivs.catalogs.gcpd.logger
ivs.catalogs.hermes.logger
ivs.catalogs.hipparcos.logger
ivs.catalogs.kepler.logger
ivs.catalogs.mast.logger
ivs.catalogs.p7.logger
ivs.catalogs.sesame.logger
ivs.catalogs.vizier.logger
ivs.io.ascii.logger
ivs.io.fits.logger
ivs.io.hdf5.logger
ivs.observations.distance.logger
ivs.observations.visibility.logger
ivs.roche.binary.logger
ivs.sed.builder.logger
ivs.sed.creategrids.logger
ivs.sed.decorators.logger
ivs.sed.distance.logger
ivs.sed.extinctionmodels.logger
ivs.sed.filters.logger
ivs.sed.fit.logger
ivs.sed.limbdark.logger
ivs.sed.model.logger
ivs.sed.reddening.logger
ivs.sigproc.evaluate.logger
ivs.sigproc.filtering.logger
ivs.sigproc.fit.logger
ivs.sigproc.funclib.logger
ivs.spectra.linelists.logger
ivs.spectra.model.logger
ivs.spectra.tools.logger
ivs.stellar_evolution.adipls.logger
ivs.stellar_evolution.fileio.logger
ivs.stellar_evolution.gyre.logger
ivs.stellar_evolution.puls.logger
ivs.timeseries.decorators.logger
ivs.timeseries.freqanalyse.logger
ivs.timeseries.keplerorbit.logger
ivs.timeseries.pergrams.logger
ivs.timeseries.windowfunctions.logger
ivs.units.conversions.logger" class="py-name" href="#" onclick="return doclink('link-19', 'logger', 'link-11');">logger</a></tt><tt class="py-op">.</tt><tt class="py-name">info</tt><tt class="py-op">(</tt><tt class="py-string">"Data retrieval for HIP%s: OK"</tt> <tt class="py-op">%</tt> <tt class="py-name">str</tt><tt class="py-op">(</tt><tt class="py-name">hipnr</tt><tt class="py-op">)</tt><tt class="py-op">)</tt> </tt>
<a name="L108"></a><tt class="py-lineno">108</tt>  <tt class="py-line">         </tt>
<a name="L109"></a><tt class="py-lineno">109</tt>  <tt class="py-line">    <tt class="py-name">contents</tt> <tt class="py-op">=</tt> <tt class="py-name">response</tt><tt class="py-op">.</tt><tt id="link-20" class="py-name" targets="Method ivs.io.database.Database.read()=ivs.io.database.Database-class.html#read"><a title="ivs.io.database.Database.read" class="py-name" href="#" onclick="return doclink('link-20', 'read', 'link-20');">read</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L110"></a><tt class="py-lineno">110</tt>  <tt class="py-line">    <tt class="py-name">conn</tt><tt class="py-op">.</tt><tt class="py-name">close</tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L111"></a><tt class="py-lineno">111</tt>  <tt class="py-line">     </tt>
<a name="L112"></a><tt class="py-lineno">112</tt>  <tt class="py-line">    <tt class="py-comment"># Parse the webpage, to remove the html codes (line starts with &lt;").</tt> </tt>
<a name="L113"></a><tt class="py-lineno">113</tt>  <tt class="py-line">    <tt class="py-comment"># Put a "#" in front of the header information, and format nicely.</tt> </tt>
<a name="L114"></a><tt class="py-lineno">114</tt>  <tt class="py-line">    <tt class="py-comment"># Write to the output file if asked for.</tt> </tt>
<a name="L115"></a><tt class="py-lineno">115</tt>  <tt class="py-line">     </tt>
<a name="L116"></a><tt class="py-lineno">116</tt>  <tt class="py-line">    <tt class="py-name">data</tt> <tt class="py-op">=</tt> <tt class="py-op">[</tt><tt class="py-op">]</tt> </tt>
<a name="L117"></a><tt class="py-lineno">117</tt>  <tt class="py-line">    <tt class="py-name">header</tt> <tt class="py-op">=</tt> <tt class="py-op">{</tt><tt class="py-op">}</tt> </tt>
<a name="L118"></a><tt class="py-lineno">118</tt>  <tt class="py-line">     </tt>
<a name="L119"></a><tt class="py-lineno">119</tt>  <tt class="py-line">    <tt class="py-keyword">if</tt> <tt class="py-name">outputFileName</tt><tt class="py-op">:</tt> </tt>
<a name="L120"></a><tt class="py-lineno">120</tt>  <tt class="py-line">        <tt class="py-name">outputFile</tt> <tt class="py-op">=</tt> <tt class="py-name">open</tt><tt class="py-op">(</tt><tt class="py-name">outputFileName</tt><tt class="py-op">,</tt><tt class="py-string">'w'</tt><tt class="py-op">)</tt> </tt>
<a name="L121"></a><tt class="py-lineno">121</tt>  <tt class="py-line">     </tt>
<a name="L122"></a><tt class="py-lineno">122</tt>  <tt class="py-line">    <tt class="py-keyword">for</tt> <tt class="py-name">line</tt> <tt class="py-keyword">in</tt> <tt class="py-name">contents</tt><tt class="py-op">.</tt><tt class="py-name">split</tt><tt class="py-op">(</tt><tt class="py-string">'\n'</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
<a name="L123"></a><tt class="py-lineno">123</tt>  <tt class="py-line">        <tt class="py-keyword">if</tt> <tt class="py-name">line</tt> <tt class="py-op">==</tt> <tt class="py-string">""</tt><tt class="py-op">:</tt> <tt class="py-keyword">continue</tt> </tt>
<a name="L124"></a><tt class="py-lineno">124</tt>  <tt class="py-line">        <tt class="py-keyword">if</tt> <tt class="py-keyword">not</tt> <tt class="py-name">line</tt><tt class="py-op">.</tt><tt class="py-name">startswith</tt><tt class="py-op">(</tt><tt class="py-string">"&lt;"</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
<a name="L125"></a><tt class="py-lineno">125</tt>  <tt class="py-line">            <tt class="py-name">line</tt> <tt class="py-op">=</tt> <tt class="py-name">line</tt><tt class="py-op">.</tt><tt class="py-name">replace</tt><tt class="py-op">(</tt><tt class="py-string">"\r"</tt><tt class="py-op">,</tt> <tt class="py-string">""</tt><tt class="py-op">)</tt> </tt>
<a name="L126"></a><tt class="py-lineno">126</tt>  <tt class="py-line">             </tt>
<a name="L127"></a><tt class="py-lineno">127</tt>  <tt class="py-line">            <tt class="py-comment"># This is the header</tt> </tt>
<a name="L128"></a><tt class="py-lineno">128</tt>  <tt class="py-line">             </tt>
<a name="L129"></a><tt class="py-lineno">129</tt>  <tt class="py-line">            <tt class="py-keyword">if</tt> <tt class="py-keyword">not</tt> <tt class="py-name">line</tt><tt class="py-op">[</tt><tt class="py-number">0</tt><tt class="py-op">]</tt><tt class="py-op">.</tt><tt class="py-name">isdigit</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
<a name="L130"></a><tt class="py-lineno">130</tt>  <tt class="py-line">                <tt class="py-name">sline</tt> <tt class="py-op">=</tt> <tt class="py-name">line</tt><tt class="py-op">.</tt><tt class="py-name">split</tt><tt class="py-op">(</tt><tt class="py-string">':'</tt><tt class="py-op">)</tt> </tt>
<a name="L131"></a><tt class="py-lineno">131</tt>  <tt class="py-line">                 </tt>
<a name="L132"></a><tt class="py-lineno">132</tt>  <tt class="py-line">                <tt class="py-comment"># Only keep header entries of the style </tt> </tt>
<a name="L133"></a><tt class="py-lineno">133</tt>  <tt class="py-line">                <tt class="py-comment"># "key: value information" in the dictionary</tt> </tt>
<a name="L134"></a><tt class="py-lineno">134</tt>  <tt class="py-line">                 </tt>
<a name="L135"></a><tt class="py-lineno">135</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt class="py-name">len</tt><tt class="py-op">(</tt><tt class="py-name">sline</tt><tt class="py-op">)</tt><tt class="py-op">==</tt><tt class="py-number">2</tt><tt class="py-op">:</tt> </tt>
<a name="L136"></a><tt class="py-lineno">136</tt>  <tt class="py-line">                    <tt class="py-name">key</tt><tt class="py-op">,</tt><tt class="py-name">info</tt> <tt class="py-op">=</tt> <tt class="py-name">sline</tt> </tt>
<a name="L137"></a><tt class="py-lineno">137</tt>  <tt class="py-line">                    <tt class="py-name">info</tt> <tt class="py-op">=</tt> <tt class="py-name">info</tt><tt class="py-op">.</tt><tt class="py-name">split</tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L138"></a><tt class="py-lineno">138</tt>  <tt class="py-line">                    <tt class="py-name">header</tt><tt class="py-op">[</tt><tt class="py-name">key</tt><tt class="py-op">]</tt> <tt class="py-op">=</tt> <tt class="py-op">(</tt><tt class="py-name">info</tt><tt class="py-op">[</tt><tt class="py-number">0</tt><tt class="py-op">]</tt><tt class="py-op">,</tt><tt class="py-string">" "</tt><tt class="py-op">.</tt><tt class="py-name">join</tt><tt class="py-op">(</tt><tt class="py-name">info</tt><tt class="py-op">[</tt><tt class="py-number">1</tt><tt class="py-op">:</tt><tt class="py-op">]</tt><tt class="py-op">)</tt><tt class="py-op">)</tt> </tt>
<a name="L139"></a><tt class="py-lineno">139</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt class="py-name">outputFileName</tt><tt class="py-op">:</tt> </tt>
<a name="L140"></a><tt class="py-lineno">140</tt>  <tt class="py-line">                    <tt class="py-name">line</tt> <tt class="py-op">=</tt> <tt class="py-string">"# "</tt> <tt class="py-op">+</tt> <tt class="py-name">line</tt> </tt>
<a name="L141"></a><tt class="py-lineno">141</tt>  <tt class="py-line">                     </tt>
<a name="L142"></a><tt class="py-lineno">142</tt>  <tt class="py-line">            <tt class="py-comment"># This is the real contents</tt> </tt>
<a name="L143"></a><tt class="py-lineno">143</tt>  <tt class="py-line">             </tt>
<a name="L144"></a><tt class="py-lineno">144</tt>  <tt class="py-line">            <tt class="py-keyword">else</tt><tt class="py-op">:</tt> </tt>
<a name="L145"></a><tt class="py-lineno">145</tt>  <tt class="py-line">                <tt class="py-name">data</tt><tt class="py-op">.</tt><tt class="py-name">append</tt><tt class="py-op">(</tt><tt class="py-name">line</tt><tt class="py-op">.</tt><tt class="py-name">split</tt><tt class="py-op">(</tt><tt class="py-string">'|'</tt><tt class="py-op">)</tt><tt class="py-op">)</tt> </tt>
<a name="L146"></a><tt class="py-lineno">146</tt>  <tt class="py-line">                <tt class="py-comment">#-- correct for empty fields</tt> </tt>
<a name="L147"></a><tt class="py-lineno">147</tt>  <tt class="py-line">                <tt class="py-name">data</tt><tt class="py-op">[</tt><tt class="py-op">-</tt><tt class="py-number">1</tt><tt class="py-op">]</tt> <tt class="py-op">=</tt> <tt class="py-name">tuple</tt><tt class="py-op">(</tt><tt class="py-op">[</tt><tt class="py-op">(</tt><tt class="py-name">entry</tt><tt class="py-op">.</tt><tt class="py-name">replace</tt><tt class="py-op">(</tt><tt class="py-string">' '</tt><tt class="py-op">,</tt><tt class="py-string">''</tt><tt class="py-op">)</tt><tt class="py-op">==</tt><tt class="py-string">''</tt> <tt class="py-keyword">and</tt> <tt class="py-name">np</tt><tt class="py-op">.</tt><tt class="py-name">nan</tt> <tt class="py-keyword">or</tt> <tt class="py-name">entry</tt><tt class="py-op">)</tt> <tt class="py-keyword">for</tt> <tt class="py-name">entry</tt> <tt class="py-keyword">in</tt> <tt class="py-name">data</tt><tt class="py-op">[</tt><tt class="py-op">-</tt><tt class="py-number">1</tt><tt class="py-op">]</tt><tt class="py-op">]</tt><tt class="py-op">)</tt> </tt>
<a name="L148"></a><tt class="py-lineno">148</tt>  <tt class="py-line">            <tt class="py-keyword">if</tt> <tt class="py-name">outputFileName</tt><tt class="py-op">:</tt> </tt>
<a name="L149"></a><tt class="py-lineno">149</tt>  <tt class="py-line">                <tt class="py-name">outputFile</tt><tt class="py-op">.</tt><tt id="link-21" class="py-name" targets="Method ivs.aux.decorators.LogPrinter.write()=ivs.aux.decorators.LogPrinter-class.html#write"><a title="ivs.aux.decorators.LogPrinter.write" class="py-name" href="#" onclick="return doclink('link-21', 'write', 'link-21');">write</a></tt><tt class="py-op">(</tt><tt class="py-name">line</tt> <tt class="py-op">+</tt> <tt class="py-string">"\n"</tt><tt class="py-op">)</tt> </tt>
<a name="L150"></a><tt class="py-lineno">150</tt>  <tt class="py-line">    <tt class="py-keyword">if</tt> <tt class="py-name">outputFileName</tt><tt class="py-op">:</tt> </tt>
<a name="L151"></a><tt class="py-lineno">151</tt>  <tt class="py-line">        <tt class="py-name">outputFile</tt><tt class="py-op">.</tt><tt class="py-name">close</tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L152"></a><tt class="py-lineno">152</tt>  <tt class="py-line">     </tt>
<a name="L153"></a><tt class="py-lineno">153</tt>  <tt class="py-line">    <tt class="py-comment"># Make a record array.</tt> </tt>
<a name="L154"></a><tt class="py-lineno">154</tt>  <tt class="py-line">    <tt class="py-comment"># Choose the header names to be in the VizieR style.</tt> </tt>
<a name="L155"></a><tt class="py-lineno">155</tt>  <tt class="py-line">     </tt>
<a name="L156"></a><tt class="py-lineno">156</tt>  <tt class="py-line">    <tt class="py-keyword">if</tt> <tt class="py-name">dtype</tt><tt class="py-op">==</tt><tt class="py-string">'ep'</tt><tt class="py-op">:</tt> </tt>
<a name="L157"></a><tt class="py-lineno">157</tt>  <tt class="py-line">        <tt class="py-name">dtypes</tt> <tt class="py-op">=</tt> <tt class="py-op">[</tt><tt class="py-op">(</tt><tt class="py-string">'time'</tt><tt class="py-op">,</tt><tt class="py-string">'f8'</tt><tt class="py-op">)</tt><tt class="py-op">,</tt><tt class="py-op">(</tt><tt class="py-string">'mag'</tt><tt class="py-op">,</tt><tt class="py-string">'f8'</tt><tt class="py-op">)</tt><tt class="py-op">,</tt><tt class="py-op">(</tt><tt class="py-string">'e_mag'</tt><tt class="py-op">,</tt><tt class="py-string">'f8'</tt><tt class="py-op">)</tt><tt class="py-op">,</tt><tt class="py-op">(</tt><tt class="py-string">'q_mag'</tt><tt class="py-op">,</tt><tt class="py-string">'i'</tt><tt class="py-op">)</tt><tt class="py-op">]</tt> </tt>
<a name="L158"></a><tt class="py-lineno">158</tt>  <tt class="py-line">    <tt class="py-keyword">elif</tt> <tt class="py-name">dtype</tt><tt class="py-op">==</tt><tt class="py-string">'i'</tt><tt class="py-op">:</tt> </tt>
<a name="L159"></a><tt class="py-lineno">159</tt>  <tt class="py-line">        <tt class="py-name">dtypes</tt> <tt class="py-op">=</tt> <tt class="py-op">[</tt><tt class="py-op">(</tt><tt class="py-string">'orbit'</tt><tt class="py-op">,</tt><tt class="py-string">'i'</tt><tt class="py-op">)</tt><tt class="py-op">,</tt><tt class="py-op">(</tt><tt class="py-string">'source'</tt><tt class="py-op">,</tt><tt class="py-string">'a1'</tt><tt class="py-op">)</tt><tt class="py-op">,</tt> </tt>
<a name="L160"></a><tt class="py-lineno">160</tt>  <tt class="py-line">                  <tt class="py-op">(</tt><tt class="py-string">'d_acosd'</tt><tt class="py-op">,</tt><tt class="py-string">'f8'</tt><tt class="py-op">)</tt><tt class="py-op">,</tt><tt class="py-op">(</tt><tt class="py-string">'d_d'</tt><tt class="py-op">,</tt><tt class="py-string">'f8'</tt><tt class="py-op">)</tt><tt class="py-op">,</tt><tt class="py-op">(</tt><tt class="py-string">'d_pi'</tt><tt class="py-op">,</tt><tt class="py-string">'f8'</tt><tt class="py-op">)</tt><tt class="py-op">,</tt> </tt>
<a name="L161"></a><tt class="py-lineno">161</tt>  <tt class="py-line">                  <tt class="py-op">(</tt><tt class="py-string">'d_mua'</tt><tt class="py-op">,</tt><tt class="py-string">'f8'</tt><tt class="py-op">)</tt><tt class="py-op">,</tt><tt class="py-op">(</tt><tt class="py-string">'d_mud'</tt><tt class="py-op">,</tt><tt class="py-string">'f8'</tt><tt class="py-op">)</tt><tt class="py-op">,</tt> </tt>
<a name="L162"></a><tt class="py-lineno">162</tt>  <tt class="py-line">                  <tt class="py-op">(</tt><tt class="py-string">'abs_res'</tt><tt class="py-op">,</tt><tt class="py-string">'f8'</tt><tt class="py-op">)</tt><tt class="py-op">,</tt><tt class="py-op">(</tt><tt class="py-string">'abs_std'</tt><tt class="py-op">,</tt><tt class="py-string">'f8'</tt><tt class="py-op">)</tt><tt class="py-op">,</tt><tt class="py-op">(</tt><tt class="py-string">'cor'</tt><tt class="py-op">,</tt><tt class="py-string">'f8'</tt><tt class="py-op">)</tt><tt class="py-op">]</tt> </tt>
<a name="L163"></a><tt class="py-lineno">163</tt>  <tt class="py-line">    <tt class="py-name">data</tt> <tt class="py-op">=</tt> <tt class="py-name">np</tt><tt class="py-op">.</tt><tt class="py-name">rec</tt><tt class="py-op">.</tt><tt class="py-name">array</tt><tt class="py-op">(</tt><tt class="py-name">data</tt><tt class="py-op">,</tt><tt class="py-name">dtype</tt><tt class="py-op">=</tt><tt class="py-name">dtypes</tt><tt class="py-op">)</tt> </tt>
<a name="L164"></a><tt class="py-lineno">164</tt>  <tt class="py-line">     </tt>
<a name="L165"></a><tt class="py-lineno">165</tt>  <tt class="py-line">    <tt class="py-comment"># Fix the time offset</tt> </tt>
<a name="L166"></a><tt class="py-lineno">166</tt>  <tt class="py-line">    <tt class="py-keyword">if</tt> <tt class="py-name">dtype</tt><tt class="py-op">==</tt><tt class="py-string">'ep'</tt><tt class="py-op">:</tt> </tt>
<a name="L167"></a><tt class="py-lineno">167</tt>  <tt class="py-line">        <tt class="py-name">data</tt><tt class="py-op">[</tt><tt class="py-string">'time'</tt><tt class="py-op">]</tt> <tt class="py-op">+=</tt> <tt class="py-number">2440000.0</tt> </tt>
<a name="L168"></a><tt class="py-lineno">168</tt>  <tt class="py-line">     </tt>
<a name="L169"></a><tt class="py-lineno">169</tt>  <tt class="py-line">     </tt>
<a name="L170"></a><tt class="py-lineno">170</tt>  <tt class="py-line">    <tt class="py-keyword">return</tt> <tt class="py-name">data</tt><tt class="py-op">,</tt><tt class="py-name">header</tt> </tt>
</div><a name="L171"></a><tt class="py-lineno">171</tt>  <tt class="py-line">     </tt>
<a name="L172"></a><tt class="py-lineno">172</tt>  <tt class="py-line">     </tt>
<a name="L173"></a><tt class="py-lineno">173</tt>  <tt class="py-line"> </tt>
<a name="L174"></a><tt class="py-lineno">174</tt>  <tt class="py-line"> </tt>
<a name="L175"></a><tt class="py-lineno">175</tt>  <tt class="py-line"> </tt>
<a name="getEpochData"></a><div id="getEpochData-def"><a name="L176"></a><tt class="py-lineno">176</tt> <a class="py-toggle" href="#" id="getEpochData-toggle" onclick="return toggle('getEpochData');">-</a><tt class="py-line"><tt class="py-keyword">def</tt> <a class="py-def-name" href="ivs.catalogs.hipparcos-module.html#getEpochData">getEpochData</a><tt class="py-op">(</tt><tt class="py-param">ID</tt><tt class="py-op">,</tt><tt class="py-param">outputFileName</tt><tt class="py-op">=</tt><tt class="py-name">None</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="getEpochData-collapsed" style="display:none;" pad="+++" indent="++++"></div><div id="getEpochData-expanded"><a name="L177"></a><tt class="py-lineno">177</tt>  <tt class="py-line">    <tt class="py-docstring">"""</tt> </tt>
<a name="L178"></a><tt class="py-lineno">178</tt>  <tt class="py-line"><tt class="py-docstring">    Convenience function to retrieve epoch data.</tt> </tt>
<a name="L179"></a><tt class="py-lineno">179</tt>  <tt class="py-line"><tt class="py-docstring">    """</tt> </tt>
<a name="L180"></a><tt class="py-lineno">180</tt>  <tt class="py-line">    <tt class="py-keyword">return</tt> <tt id="link-22" class="py-name" targets="Function ivs.catalogs.hipparcos.getHipData()=ivs.catalogs.hipparcos-module.html#getHipData"><a title="ivs.catalogs.hipparcos.getHipData" class="py-name" href="#" onclick="return doclink('link-22', 'getHipData', 'link-22');">getHipData</a></tt><tt class="py-op">(</tt><tt class="py-name">ID</tt><tt class="py-op">,</tt><tt class="py-name">dtype</tt><tt class="py-op">=</tt><tt class="py-string">'ep'</tt><tt class="py-op">,</tt><tt class="py-name">outputFileName</tt><tt class="py-op">=</tt><tt class="py-name">outputFileName</tt><tt class="py-op">)</tt> </tt>
</div><a name="L181"></a><tt class="py-lineno">181</tt>  <tt class="py-line"> </tt>
<a name="L182"></a><tt class="py-lineno">182</tt>  <tt class="py-line"> </tt>
<a name="L183"></a><tt class="py-lineno">183</tt>  <tt class="py-line"> </tt>
<a name="L184"></a><tt class="py-lineno">184</tt>  <tt class="py-line"> </tt>
<a name="L185"></a><tt class="py-lineno">185</tt>  <tt class="py-line"> </tt>
<a name="getIntermediateData"></a><div id="getIntermediateData-def"><a name="L186"></a><tt class="py-lineno">186</tt> <a class="py-toggle" href="#" id="getIntermediateData-toggle" onclick="return toggle('getIntermediateData');">-</a><tt class="py-line"><tt class="py-keyword">def</tt> <a class="py-def-name" href="ivs.catalogs.hipparcos-module.html#getIntermediateData">getIntermediateData</a><tt class="py-op">(</tt><tt class="py-param">ID</tt><tt class="py-op">,</tt><tt class="py-param">outputFileName</tt><tt class="py-op">=</tt><tt class="py-name">None</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="getIntermediateData-collapsed" style="display:none;" pad="+++" indent="++++"></div><div id="getIntermediateData-expanded"><a name="L187"></a><tt class="py-lineno">187</tt>  <tt class="py-line">    <tt class="py-docstring">"""</tt> </tt>
<a name="L188"></a><tt class="py-lineno">188</tt>  <tt class="py-line"><tt class="py-docstring">    Convenience function to retrieve intermediate data.</tt> </tt>
<a name="L189"></a><tt class="py-lineno">189</tt>  <tt class="py-line"><tt class="py-docstring">    """</tt> </tt>
<a name="L190"></a><tt class="py-lineno">190</tt>  <tt class="py-line">    <tt class="py-keyword">return</tt> <tt id="link-23" class="py-name"><a title="ivs.catalogs.hipparcos.getHipData" class="py-name" href="#" onclick="return doclink('link-23', 'getHipData', 'link-22');">getHipData</a></tt><tt class="py-op">(</tt><tt class="py-name">ID</tt><tt class="py-op">,</tt><tt class="py-name">dtype</tt><tt class="py-op">=</tt><tt class="py-string">'i'</tt><tt class="py-op">,</tt><tt class="py-name">outputFileName</tt><tt class="py-op">=</tt><tt class="py-name">outputFileName</tt><tt class="py-op">)</tt> </tt>
</div><a name="L191"></a><tt class="py-lineno">191</tt>  <tt class="py-line"> </tt><script type="text/javascript">
<!--
expandto(location.href);
// -->
</script>
</pre>
<br />
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="ivs-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

      <th class="navbar" width="100%"></th>
  </tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%%">
  <tr>
    <td align="left" class="footer">
    Generated by Epydoc 3.0.1 on Mon Aug 28 05:27:14 2017
    </td>
    <td align="right" class="footer">
      <a target="mainFrame" href="http://epydoc.sourceforge.net"
        >http://epydoc.sourceforge.net</a>
    </td>
  </tr>
</table>

<script type="text/javascript">
  <!--
  // Private objects are initially displayed (because if
  // javascript is turned off then we want them to be
  // visible); but by default, we want to hide them.  So hide
  // them unless we have a cookie that says to show them.
  checkCookie();
  // -->
</script>
</body>
</html>
