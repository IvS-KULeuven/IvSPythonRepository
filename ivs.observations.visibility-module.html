<?xml version="1.0" encoding="ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>ivs.observations.visibility</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css" />
  <script type="text/javascript" src="epydoc.js"></script>
</head>

<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="ivs-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

      <th class="navbar" width="100%"></th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <span class="breadcrumbs">
        <a href="ivs-module.html">Package&nbsp;ivs</a> ::
        <a href="ivs.observations-module.html">Package&nbsp;observations</a> ::
        Module&nbsp;visibility
      </span>
    </td>
    <td>
      <table cellpadding="0" cellspacing="0">
        <!-- hide/show private -->
        <tr><td align="right"><span class="options">[<a href="javascript:void(0);" class="privatelink"
    onclick="toggle_private();">hide&nbsp;private</a>]</span></td></tr>
        <tr><td align="right"><span class="options"
            >[<a href="frames.html" target="_top">frames</a
            >]&nbsp;|&nbsp;<a href="ivs.observations.visibility-module.html"
            target="_top">no&nbsp;frames</a>]</span></td></tr>
      </table>
    </td>
  </tr>
</table>
<!-- ==================== MODULE DESCRIPTION ==================== -->
<h1 class="epydoc">Module visibility</h1><p class="nomargin-top"><span class="codelink"><a href="ivs.observations.visibility-pysrc.html">source&nbsp;code</a></span></p>
<p>This module allows to calculate the altitude and airmass of an object 
  in the sky, to determine whether it is 'observable' during day or night 
  time, and to get the separation to the moon.</p>
  <p>Examples:</p>
  <p>Plot the visibility of an object for 10 days, every 10 minutes.</p>
<pre class="py-doctest">
<span class="py-prompt">&gt;&gt;&gt; </span>eph = Ephemeris()
<span class="py-prompt">&gt;&gt;&gt; </span>eph.set_objects(objects=[<span class="py-string">'HD50230'</span>])
<span class="py-prompt">&gt;&gt;&gt; </span>eph.set_date(startdate=<span class="py-string">'2011/09/27 12:00:00.0'</span>,dt=10.,days=10)
<span class="py-prompt">&gt;&gt;&gt; </span>eph.set_site(sitename=<span class="py-string">'lapalma'</span>)
<span class="py-prompt">&gt;&gt;&gt; </span>eph.visibility()
<span class="py-prompt">&gt;&gt;&gt; </span>eph.plot(fmt=<span class="py-string">'bo'</span>)</pre>
<center><img src='../images/severalnightsvisibility.png' alt='[image example]' width='75%'/></center>



  <p>You can get the same behaviour in less commands:</p>
<pre class="py-doctest">
<span class="py-prompt">&gt;&gt;&gt; </span>eph = Ephemeris(objects=[<span class="py-string">'HD50230'</span>],startdate=<span class="py-string">'2011/09/27 12:00:00.0'</span>,dt=10.,days=10,sitename=<span class="py-string">'lapalma'</span>)
<span class="py-prompt">&gt;&gt;&gt; </span>eph.visibility()</pre>
  <p>Or, equivalently,</p>
<pre class="py-doctest">
<span class="py-prompt">&gt;&gt;&gt; </span>eph = Ephemeris()
<span class="py-prompt">&gt;&gt;&gt; </span>eph.visibility(objects=[<span class="py-string">'HD50230'</span>],startdate=<span class="py-string">'2011/09/27 12:00:00.0'</span>,dt=10.,days=10)</pre>
  <p>Get the visibility of 2 objects and the moon only for a certain 
  date:</p>
<pre class="py-doctest">
<span class="py-prompt">&gt;&gt;&gt; </span>eph = Ephemeris(objects=[<span class="py-string">'HD163506'</span>,<span class="py-string">'HD143454'</span>])
<span class="py-prompt">&gt;&gt;&gt; </span>eph.visibility(startdate=2456084.01922,days=1,sitename=<span class="py-string">'palomar'</span>)
<span class="py-prompt">&gt;&gt;&gt; </span>eph.plot(moon=True,lw=2)</pre>
<center><img src='../images/nightvisibility.png' alt='[image example]' width='75%'/></center>



  <p>One can also get the visibility of an object in a random capital at 
  the middle of the night throughout the year:</p>
<pre class="py-doctest">
<span class="py-prompt">&gt;&gt;&gt; </span>eph = Ephemeris(objects=[<span class="py-string">'V* V441 Her'</span>])
<span class="py-prompt">&gt;&gt;&gt; </span>eph.visibility(midnight=True,sitename=<span class="py-string">'Paris'</span>)
<span class="py-prompt">&gt;&gt;&gt; </span>eph.plot(moon=False)</pre>
<center><img src='../images/yearvisibility.png' alt='[image example]' width='75%'/></center>



  <p>Calculate visibility for a list of objects, sites and times:</p>
<pre class="py-doctest">
<span class="py-prompt">&gt;&gt;&gt; </span>eph = Ephemeris()
<span class="py-prompt">&gt;&gt;&gt; </span>days = np.array([2456084.0,2456085.02,2456085.29,2456085.55,2456095.6321])
<span class="py-prompt">&gt;&gt;&gt; </span>objectnames = np.array([<span class="py-string">'HD163506'</span>,<span class="py-string">'HD163506'</span>,<span class="py-string">'HD163506'</span>,<span class="py-string">'HD143454'</span>,<span class="py-string">'HD143454'</span>])
<span class="py-prompt">&gt;&gt;&gt; </span>sitenames = np.array([<span class="py-string">'lapalma'</span>,<span class="py-string">'lapalma'</span>,<span class="py-string">'palomar'</span>,<span class="py-string">'palomar'</span>,<span class="py-string">'lapalma'</span>])
<span class="py-prompt">&gt;&gt;&gt; </span>eph.visibility(multiple=True,startdate=days,objects=objectnames,sitename=sitenames)
<span class="py-prompt">&gt;&gt;&gt; </span>eph.plot(moon=True)</pre>
<center><img src='../images/multiple1.png' alt='[image example]' width='75%'/></center>



  <p>Note that only the last point is plotted, this is because the other 
  given times correspond to day time. This can be deduced from the color 
  ordering of the day (yellow) and night (grey) which are plotted 
  nevertheless. Mixing sites can result in ugly plots quite rapidly. So we 
  can also just keep the site fixed (also works for the objects and 
  times):</p>
<pre class="py-doctest">
<span class="py-prompt">&gt;&gt;&gt; </span>eph = Ephemeris()
<span class="py-prompt">&gt;&gt;&gt; </span>days = np.array([2456084.73,2456085.58,2456085.69,2456085.74,2456095.8321,2456132.978])
<span class="py-prompt">&gt;&gt;&gt; </span>objectnames = np.array([<span class="py-string">'HD163506'</span>,<span class="py-string">'HD163506'</span>,<span class="py-string">'HD163506'</span>,<span class="py-string">'HD143454'</span>,<span class="py-string">'HD143454'</span>,<span class="py-string">'HD163506'</span>])
<span class="py-prompt">&gt;&gt;&gt; </span>eph.visibility(multiple=True,startdate=days,objects=objectnames,sitename=<span class="py-string">'palomar'</span>)
<span class="py-prompt">&gt;&gt;&gt; </span>eph.plot(moon=True)</pre>
<center><img src='../images/multiple2.png' alt='[image example]' width='75%'/></center>



  <p>Note that in this case, the last point is not plotted although the 
  color coding says it corresponds to night time. Logically, this is 
  because the object is simply below the horizon.</p>

<!-- ==================== CLASSES ==================== -->
<a name="section-Classes"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Classes</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Classes"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="ivs.observations.visibility.Ephemeris-class.html" class="summary-name">Ephemeris</a>
    </td>
  </tr>
</table>
<!-- ==================== VARIABLES ==================== -->
<a name="section-Variables"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Variables</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Variables"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="logger"></a><span class="summary-name">logger</span> = <code title="logging.getLogger(&quot;OBS.VIS&quot;)">logging.getLogger(&quot;OBS.VIS&quot;)</code>
    </td>
  </tr>
</table>
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="ivs-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

      <th class="navbar" width="100%"></th>
  </tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%%">
  <tr>
    <td align="left" class="footer">
    Generated by Epydoc 3.0.1 on Sun Mar 26 05:27:11 2017
    </td>
    <td align="right" class="footer">
      <a target="mainFrame" href="http://epydoc.sourceforge.net"
        >http://epydoc.sourceforge.net</a>
    </td>
  </tr>
</table>

<script type="text/javascript">
  <!--
  // Private objects are initially displayed (because if
  // javascript is turned off then we want them to be
  // visible); but by default, we want to hide them.  So hide
  // them unless we have a cookie that says to show them.
  checkCookie();
  // -->
</script>
</body>
</html>
